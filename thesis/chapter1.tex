\chapter{Introduction} \label{chap:intro}

\section*{}

\minitoc \mtcskip \noindent
This chapter introduces the motivation and scope of this project, as well as the problems it aims to solve. \sectionintroref{sec:context} details the context of this project in the area of Internet-of-Things. \sectionintroref{sec:motivation} explains the flaws in the current solutions and why they are problematic \sectionintroref{sec:problem_definition} defines the problem we aim to solve, motivated by the problems mentioned in the previous section. The goals of this dissertation are described in \sectionintroref{sec:goals}. Finally, \sectionintroref{sec:document structure} describes the structure of this document and what content it contains.

\section{Context} \label{sec:context}

The Internet-of-Things (IoT) paradigm states that all devices, independently of their capabilities, are connected to the Internet and allow for the transfer, integration and analytic of data generated by them~\cite{IoT_principles_and_paradigms}. This paradigm has several characteristics, such as the heterogeneity and high distribution of devices as well as their increasing connectivity and computational capabilities~\cite{SoS}. All these factors allow for a great level of applicability, enabling the realization of systems for the management of cities, health services, and industries ~\cite{6851114}.

The interest in Internet-of-Things has been growing massively, following the rise of connected devices along these past years. According to Siemens, there are around 26 billion physical devices connected to the Internet in 2020 and predictions are pointing at 75 billion in 2025~\cite{tanweer}. Although this allows for more opportunities, it is important to note that these devices are very different in their hardware and capabilities, which causes several problems in terms of developing IoT systems that incorporate all these devices, as well as their scalability, maintainability, and security. Building these IoT systems requires extensive programming knowledge, which poses limitations to the majority of users which are non-developers.

Visual Programming Languages (VPLs) allow the user to communicate with the system by using and arranging visual elements that can be translated into code~\cite{vpl-book}. It provides the user with an intuitive and straightforward interface for coding at the possible cost of losing functionality. There are several programming languages with different focuses, such as education, video game development, 3D building, system design and Internet-of-Things~\cite{survey_vpl_iot}. Node-RED\footnote{https://nodered.org/} is one of the most famous open-source visual programming tools, originally developed by IBMâ€™s Emerging Technology Services team and now a part of the JS Foundation, providing an environment for end-users to develop their own Internet-of-Things systems, regardless of their programming knowledge.

Node-RED is a centralized system, as well as most of the visual programming environments applied to IoT. A centralized architecture has a central instance that executes all computational tasks on the data provided by the other devices in the network. However, centralized architectures have several limitations, impacting non-functional attributes of a system, such as resiliency, fault-tolerance and self-healing. In a centralized IoT system, the central instance is a single point of failure, making the system totally unavailable if it fails, hindering its resiliency and fault-tolerance. In addition to this, since all computation is aggregated in the main instance, the computation capabilities of all the devices connected to it are being neglected.

On the other hand, in a decentralized architecture the central instance, if it exists, partitions the computational tasks in independent blocks that can be executed by other devices. Apart from taking advantage of the computational resources of the devices, it reduces the single point of failure problem, increasing the system's resiliency and fault-tolerance. In IoT, these decentralized architectures are mentioned in Fog and Edge computing. 

\section{Motivation} \label{sec:motivation}

Internet-of-Things is a rapidly growing concept that is being applied to several areas, such as home automation, industry, health, city management, and many others. Given the number of existing systems with different protocols and architectures, it becomes difficult for a user to build a system that is in accordance with standards~\cite{standard-iot}. 

With the appearance of visual programming languages focused in IoT, more specifically Node-RED, users can build their own systems in an easier and streamlined way, removing the overhead of learning advanced programming concepts and protocols. These tools must be resilient, in order to withstand flaws and non-availability of devices as well as failure in the network. However, the majority of these tools are centralized, including Node-RED, and this type of architecture hinders the resiliency of the system. Given the existence of only one unit that executes most or all the processing of data, if this device fails, the system becomes non-functional. A possible solution would be increasing the redundancy of the system, creating more than one instance of the main unit~\cite{SMARSLY20141}. However, this approach has several costs, not only monetary but also in the increase in complexity. Even for IoT systems that are cloud-based, they are based on centralized cloud services, mostly due to the advantages in terms of management and costs (\eg \textit{economics of scale when building datacenters, automatic backup of all data, and enforce physical security}~\cite{Want15}).

\section{Problem Definition} \label{sec:problem_definition}

Most mainstream visual programming tools focused on Internet-of-Things, Node-RED included, have a centralized approach, where the main component executes most of the computation on data provided by edge devices, e.g. sensors and gateways. There are several consequences to this approach: (a)~computation capabilities of the edge devices are being ignored, (b)~it introduces a single point of failure, and (c)~local data is being transferred across boundaries (private, technological, political...) either without need or even in violation of legal constraints. The principle of Local-First~\cite{localfist} - i.e, data and logic should reside locally, independent of third-party services faults and errors - and NoCloud~\cite{nocloud} - i.e, on-device and local computation should be prioritized over cloud service computation - is being ignored. 

Besides being a single point of failure, centralized systems can be less efficient than decentralized ones and in this context, it might be the case, since there are computation capabilities that aren't being taken advantage of.

Chapter~\ref{chap:problem_statement} expands on the problem definition, explaining it in bigger detail, defining its scope, desiderata, use cases and research questions.

\section{Goals} \label{sec:goals}

The main goal of this dissertation is to automatically leverage the computation capabilities of the devices in an IoT network, increasing its overall efficiency, fault-tolerance, resiliency and scalability. To achieve this goal, we present a prototype that extends Node-RED, which enables IoT devices to communicate their "computational capabilities" back to the orchestrator, which is the entity responsible for managing the system's decentralization. In its turn, the orchestrator is able to automatically partition the computation and send "tasks" back to the devices in the network, leveraging their computation power.

As secondary goal, several other challenges were tackled, viz: (i)~detection of devices' non-availability by the orchestrator and subsequent adaption, (ii)~leveraging devices' computational resources by creating custom \textit{firmware} that allows the execution of MicroPython scripts, (iii)~communication of devices' capabilities to the orchestrator and (iv)~maximizing partitioning results by matching nodes to devices with specific properties.

\section{Document Structure} \label{sec:document structure}

This chapter introduced the objective of this dissertation by explaining its context and motivation and addressing the problems it aims to solve. This document is composed of six more chapters, structured as follow:

\begin{itemize}
  \item \chapterref{chap:background}, \textbf{Background}, introduces the background information and explanation about concepts necessary for the full understanding of this dissertation.
  \item \chapterref{chap:sota}, \textbf{State of the Art}, describes the state of the art regarding the ecosystem of this project's scope, including a Systematic Literature Review on the state of the art of visual programming applied to the Internet-of-Things domain.
  \item \chapterref{chap:problem_statement}, \textbf{Problem Statement}, presents the problem this dissertation aims to solve, as well as the approach taken to solve it.
  \item \chapterref{chap:solution}, \textbf{Solution}, details how the solution was implemented and all the decisions and efforts taken to answer the problem statement mentioned before.
  \item \chapterref{chap:evaluation}, \textbf{Evaluation}, analyzes the evaluation process and demonstrates the validation and evaluation of the developed solution.
  \item Finally, \chapterref{chap:concl}, \textbf{Conclusions}, concludes this dissertation with a reflection on the success of the project by presenting a summary of the developed work and detailing the difficulties and future work.
\end{itemize}